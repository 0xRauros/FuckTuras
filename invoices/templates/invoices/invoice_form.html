{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Add Invoice{% endblock %}

{% block content %}
<section class="layout">
    {% include 'account/_sidebar.html' %}
    <div class="body animate__animated animate__slideInUp animate__delay-0.5s">
      <div class="container">
        <div class="jumbotron text-white">
          <h1 class="text-white"><i class="bi bi-person-add"></i>&nbsp;&nbsp; <strong>Add Invoice</strong></h1>
            <p class="lead">Fill the form below with information of the new invoice.</p>
            <hr class="my-4">
            <div style="max-width: 50%;">

              <form method="post">
                {% csrf_token %}
                <div class="card">
                    <div class="card-header">
                        <h4>Create Invoice</h4>
                    </div>
                    <div class="card-body">
                        {{ form.non_form_errors }}
                        {{ form.as_p }}
                        <h5 class="text-info">Add Invoice Items</h5>
                        {{ invoice_item_formset.non_form_errors }}
                        {{ invoice_item_formset.management_form }}
                        {% for form in invoice_item_formset %}
                            
                            <div class="d-flex py-1 inline {{ invoice_item_formset.prefix }}">
                                <div>{{ form.name.label }}: {{ form.name }}</div>
                                <div>{{ form.price.label }}: {{ form.price }}</div>
                                <div>{{ form.quantity.label }}: {{ form.quantity }}</div>
                                <div>{{ form.iva.label }}: {{ form.iva }}</div>
                            </div>
                     
                        {% endfor %}
                    </div>
                </div>
                <div class="mt-3 mb-5">
                    <button type="submit" class="px-5 btn btn-info">Submit</button>
                </div>
              </form>

            </div>
          </div>
          <br>
    </div>
    </div>
    
    </section>

    <script>
      function setStyle(obj) {
        console.log(obj)
        let element = document.getElementById('invoiceStyle');
        element.setAttribute('value', 'pito');
      }
    </script>
    
{% endblock %}